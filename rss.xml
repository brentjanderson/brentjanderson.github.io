<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Brent Anderson]]></title><description><![CDATA[Brent Anderson's musings]]></description><link>https://www.brentjanderson.com</link><generator>RSS for Node</generator><lastBuildDate>Tue, 23 Apr 2019 22:51:06 GMT</lastBuildDate><item><title><![CDATA[No title]]></title><description><![CDATA[Event sourcing a la Postgres BEGIN TRANSACTION User connect, calls domain stored procedure Domain stored procedure does any domain…]]></description><link>https://www.brentjanderson.com/blog/2018-10-08-event-sourcing/Event sourcing ala postgres/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2018-10-08-event-sourcing/Event sourcing ala postgres/</guid><content:encoded>&lt;h1&gt;Event sourcing a la Postgres&lt;/h1&gt;
&lt;p&gt;BEGIN TRANSACTION&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;User connect, calls domain stored procedure&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Domain stored procedure does any domain validation (if any), passes command to aggregate command validation&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Aggregate state retrieved from tables, checked against command. Rollback on fail, generate events on success&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Events passed to write_event stored procedure, which appends them to event log&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Event log aggregate trigger applies events to aggregate tables&lt;/li&gt;
&lt;li&gt;Event log notify trigger fires NOTIFY for subscribed consumers&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Event log event handler triggers fire synchronous event handlers&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Event handlers do something with an event&lt;/li&gt;
&lt;li&gt;Projections are event handlers that have a unique ID, store high water read mark from events table per event with ID&lt;/li&gt;
&lt;li&gt;Process managers are event handlers that store state between events in a separate table&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Return true&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Return true&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Return true&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Return true
COMMIT&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[How I Postgres]]></title><description><![CDATA[At  Lambda School , we love postgres. Here are a few gems I've learned that make
developing with it a joy: PSQL for Mac The best way to…]]></description><link>https://www.brentjanderson.com/blog/2018-04-23-how-i-postgres/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2018-04-23-how-i-postgres/</guid><pubDate>Tue, 23 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;At &lt;a href=&quot;https://lambdaschool.com/&quot;&gt;Lambda School&lt;/a&gt;, we love postgres. Here are a few gems I&apos;ve learned that make
developing with it a joy:&lt;/p&gt;
&lt;h2&gt;PSQL for Mac&lt;/h2&gt;
&lt;p&gt;The best way to handle this is to install
&lt;a href=&quot;https://postgresapp.com/&quot;&gt;Postgres.app&lt;/a&gt; and then add the following to your
shell profile:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-shell&quot;&gt;export PATH=$PATH:/Applications/Postgres.app/Contents/Versions/latest/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Et voilà! Reload your terminal and &lt;code&gt;psql&lt;/code&gt; will be ready to go, along with other
Postgres command line tools. To update to the latest version is as simple as
opening Postgres.app and letting it update.&lt;/p&gt;
&lt;h2&gt;PSQL Profile&lt;/h2&gt;
&lt;p&gt;This file in &lt;code&gt;~/.psqlrc&lt;/code&gt; will configure &lt;code&gt;psql&lt;/code&gt; with a few key settings to make
it more useful:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-sql&quot;&gt;\set QUIET 1 -- Disable logs while this script runs

-- Show if we are in a transaction or not,
-- and the current database if it&apos;s different from our username
\set PROMPT1 &apos;%~%x%# &apos;

-- Update the prompt when we&apos;re on a multi-line script
\set PROMPT2 &apos;[more] %R &gt; &apos;

\set VERBOSITY verbose

\set HISTFILE ~/.psql_history- :DBNAME
\set HISTCONTROL ignoredups
\set COMP_KEYWORD_CASE upper


\x auto -- Set expanded output to auto

-- Stop transactions when there&apos;s an error
\set ON_ERROR_STOP on
-- Require the user to rollback when there&apos;s an error
\set ON_ERROR_ROLLBACK interactive

-- Make null characters print as this character
\pset null &apos;¤&apos;
\pset linestyle &apos;unicode&apos;
-- Make tables look nicer
\pset unicode_border_linestyle single
\pset unicode_column_linestyle single
\pset unicode_header_linestyle double

-- Make intervals look clean
\set intervalstyle to &apos;postgres_verbose&apos;;

-- Settings to pass to `less` when paging through output
\setenv LESS &apos;-iMFXSx4R&apos;

-- Use visual studio code as my editor
\setenv EDITOR &apos;/usr/local/bin/code -w&apos;

-- Show how long each query takes
\timing on

-- Restore logs
\unset QUIET
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;PG Services&lt;/h2&gt;
&lt;p&gt;A lesser-known feature of &lt;code&gt;psql&lt;/code&gt; and other bundled Postgres command line tools
is the &lt;code&gt;~/.pg_service.conf&lt;/code&gt; file, or &lt;a href=&quot;https://www.postgresql.org/docs/9.0/libpq-pgservice.html&quot;&gt;connection service file&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-conf&quot;&gt;# comment
[connection-name]
host=somewhere
user=foo
password=bar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can create as many &lt;code&gt;[connection-name]&lt;/code&gt; blocks as you like, and name them
according to what they configure. To use a specific service with psql is as easy
as &lt;code&gt;PGSERVICE=connection-name psql&lt;/code&gt;. To make it easier, I add the following to
my &lt;code&gt;.zshrc&lt;/code&gt; file:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-zsh&quot;&gt;export PGSERVICE=local
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The corresponding &lt;code&gt;[local]&lt;/code&gt; section in the connection service file points to my
local machine. Pointing at production, staging, test, or other environments
is as easy as changing the variable on the command line.&lt;/p&gt;
&lt;h2&gt;Running a Postgres database locally&lt;/h2&gt;
&lt;p&gt;You can use &lt;a href=&quot;https://postgresapp.com/&quot;&gt;Postgres.app&lt;/a&gt; to setup and manage different versions of Postgres
on your mac. At &lt;a href=&quot;https://lambdaschool.com/&quot;&gt;Lambda School&lt;/a&gt; we use Docker to set up local
dependencies (and I generally prefer using Docker to Postgres.app).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Resilience and Tolerance]]></title><description><![CDATA[From  https://seths.blog/2019/03/resilience-and-tolerances/ You’ll probably find that while precision feels like the way forward, resilience…]]></description><link>https://www.brentjanderson.com/blog/2019-03-18-resilience-and-tolerance/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2019-03-18-resilience-and-tolerance/</guid><pubDate>Mon, 18 Mar 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;From &lt;a href=&quot;https://seths.blog/2019/03/resilience-and-tolerances/&quot;&gt;https://seths.blog/2019/03/resilience-and-tolerances/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You’ll probably find that while precision feels like the way forward, resilience, the ability to thrive when things go wrong, is a much safer bet.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Although Seth is famous for writing about marketing, his writing reflects truth. The truths he writes about apply broadly.&lt;/p&gt;
&lt;p&gt;Reading this reminds me of the best literature in engineering reliable software systems. The pattern that seems to be most powerful is to declare how things ought to be, and to have a machine that is responsible for herding what it observes in your system towards what you said it&apos;s supposed to be. Kubernetes manifests come to mind in particular.&lt;/p&gt;
&lt;p&gt;Having strong precision is important because it can help clean up a lot of the messes before you get it out into the real world. Type systems, static analysis, test coverage, and other pre-flight checks help rule out classes of problems that you would otherwise have to build resilience for.&lt;/p&gt;
&lt;p&gt;From there, we can focus on resilience. Resilience requires understanding other patterns. Systems thinking, embracing failure rather than insulating it, setting and enforcing clear expectations between system components. Resilience requires having a clean path to shut things down, and a clean path to start things up. If you can reboot something into a known stable state and then move forward, you are far more resilient and ant-fragile.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Typescript FTW]]></title><description><![CDATA[Today, I've decided that I prefer Typescript to Javascript. I think it offers great features and protection without the hassle of an overly…]]></description><link>https://www.brentjanderson.com/blog/2019-03-04-typescript-ftw/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2019-03-04-typescript-ftw/</guid><pubDate>Mon, 04 Mar 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Today, I&apos;ve decided that I prefer Typescript to Javascript. I think it offers great features and protection without the hassle of an overly prescriptive strongly-type langauge, and it has made writing software for Lambda School much more effective.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Notes on "How to Read"]]></title><description><![CDATA[These are some unstructured notes from a  free video  published by
 Farnam Street  on how to read. These notes are just a loose
collection…]]></description><link>https://www.brentjanderson.com/blog/2019-01-7-how-to-read-notes/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2019-01-7-how-to-read-notes/</guid><pubDate>Mon, 07 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;These are some unstructured notes from a &lt;a href=&quot;https://fs.blog/the-art-of-reading-sneak-peek-module-4-video/&quot; title=&quot;Video Course&quot;&gt;free video&lt;/a&gt; published by
&lt;a href=&quot;https://fs.blog&quot; title=&quot;Farnam Street&quot;&gt;Farnam Street&lt;/a&gt; on how to read. These notes are just a loose
collection, so don&apos;t take them as definitive or even complete, but they seemed
useful.&lt;/p&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Read from multiple perspectives&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Read many perspectives from multiple authors&lt;/li&gt;
&lt;li&gt;&quot;Read syntopically&quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Effort and concentration&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Skim and superficial reading to filter and prepare for reading&lt;/li&gt;
&lt;li&gt;Determine who is worth listening to, what their positions are&lt;/li&gt;
&lt;li&gt;Cluster reading close to each other temporally&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&quot;If you understand the general principle,
you don&apos;t need to see every one of its examples.&quot;
~ Thoreau&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;-- Five steps to read well --&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Find relevant passages to read&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Do an intelligent/thorough skim of the material&lt;/li&gt;
&lt;li&gt;Create bibliography to figure out how to get the most out of the material&lt;/li&gt;
&lt;li&gt;Read it all comparitively&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Translate vocabulary&lt;/li&gt;
&lt;li&gt;Clear questions on what you want answered&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Define the issue&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What are the different takes from things?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Analyze the discussions&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&quot;It&apos;s an illusion that we actually understand the past after learning about it.&quot;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How I set up my machine]]></title><description><![CDATA[I started at Lambda School this year, writing software to help students and
staff be more productive. As with any modern software job, I had…]]></description><link>https://www.brentjanderson.com/blog/2019-01-07-how-i-set-up-my-machine/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2019-01-07-how-i-set-up-my-machine/</guid><pubDate>Mon, 07 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I started at Lambda School this year, writing software to help students and
staff be more productive. As with any modern software job, I had to set up a new
laptop with all of the tools I rely on each day to get the job done.&lt;/p&gt;
&lt;p&gt;After setting up the laptop and tightening up a few pieces, here is my
definitive guide to what I install, and why.&lt;/p&gt;
&lt;h2&gt;The Hardware&lt;/h2&gt;
&lt;p&gt;15&quot; Macbook Pro (Space Gray) - Intel core i7, 16 GB RAM, 512 GB SSD&lt;/p&gt;
&lt;p&gt;I&apos;ve debated whether or not I want to dive into a Thinkpad with Ubuntu, but my
inertia with Mac is pretty strong. No reason to try something new just for fun
at this juncture. Same thing applies to Vim, although I may take some time to
get into it at some point.&lt;/p&gt;
&lt;p&gt;Also, I don&apos;t particularly care about Space Gray vs. Silver, but my home laptop
is silver so space gray helps me keep track of which one I&apos;m using.&lt;/p&gt;
&lt;h2&gt;Mac Apps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Spark for eMail&lt;/li&gt;
&lt;li&gt;Firefox&lt;/li&gt;
&lt;li&gt;Spotify&lt;/li&gt;
&lt;li&gt;Slack&lt;/li&gt;
&lt;li&gt;Monday.com&lt;/li&gt;
&lt;li&gt;Notion&lt;/li&gt;
&lt;li&gt;Zoom Conference&lt;/li&gt;
&lt;li&gt;1Password&lt;/li&gt;
&lt;li&gt;Amethyst for window management&lt;/li&gt;
&lt;li&gt;Dropbox&lt;/li&gt;
&lt;li&gt;Keybase&lt;/li&gt;
&lt;li&gt;F.lux&lt;/li&gt;
&lt;li&gt;Fohkuhs Pomodoro Timer&lt;/li&gt;
&lt;li&gt;Visual Studio Code&lt;/li&gt;
&lt;li&gt;iTerm 2&lt;/li&gt;
&lt;li&gt;Docker for Mac&lt;/li&gt;
&lt;li&gt;Postgres.app for local &lt;code&gt;psql&lt;/code&gt; command support&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Command Line Work&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;You can tell a lot about an engineer by the contents of his shell profile.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;iTerm 2 is my preferred terminal since it&apos;s easy to configure and the profiles
are transferrable between machines.&lt;/p&gt;
&lt;h3&gt;ZSH &amp;#x26; Oh-my-zsh&lt;/h3&gt;
&lt;p&gt;I like the plugins &lt;a href=&quot;https://ohmyz.sh/&quot;&gt;Oh-my-zsh&lt;/a&gt; comes packed with: &lt;code&gt;git&lt;/code&gt;, &lt;code&gt;docker&lt;/code&gt;, &lt;code&gt;node&lt;/code&gt;, &lt;code&gt;yarn&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I use the &lt;code&gt;agnoster&lt;/code&gt; theme with &lt;a href=&quot;https://github.com/powerline/fonts&quot;&gt;powerline-fonts&lt;/a&gt; installed.&lt;/p&gt;
&lt;h3&gt;nvm &amp;#x26; node&lt;/h3&gt;
&lt;p&gt;Although I prefer &lt;a href=&quot;https://asdf-vm.com/&quot;&gt;asdf&lt;/a&gt; for versioning dependencies, however to be consistent with our team standards I installed &lt;a href=&quot;https://github.com/creationix/nvm&quot;&gt;nvm&lt;/a&gt; for handling our node versions.&lt;/p&gt;
&lt;p&gt;I set up an &lt;code&gt;~/.nvmrc&lt;/code&gt; file as well for some global defaults as needed, including version pinning for dependencies.&lt;/p&gt;
&lt;h3&gt;psql&lt;/h3&gt;
&lt;p&gt;I install &lt;a href=&quot;https://postgresapp.com/&quot;&gt;Postgres.app&lt;/a&gt; so it&apos;s easy to get &lt;code&gt;psql&lt;/code&gt; on my command line.&lt;/p&gt;
&lt;p&gt;I have a &lt;code&gt;.psqlrc&lt;/code&gt; file to set up table formatting and other features of &lt;code&gt;psql&lt;/code&gt; so it becomes my go-to tool for interacting with postgres (typically over GUI clients).&lt;/p&gt;
&lt;h3&gt;Homebrew&lt;/h3&gt;
&lt;p&gt;I install &lt;a href=&quot;https://brew.sh&quot;&gt;Homebrew&lt;/a&gt; so that it&apos;s easy to get components I need installed. I typically install &lt;code&gt;fx&lt;/code&gt; for reading JSON files and &lt;code&gt;wget&lt;/code&gt; out of the gate.&lt;/p&gt;
&lt;h2&gt;Visual Studio Code&lt;/h2&gt;
&lt;p&gt;VS Code is a fantastic code editor that can be extended to essentially be a full IDE. Although someday I might jump into tmux and vim, VS Code is fast, easy to use and set up, and it works very well.&lt;/p&gt;
&lt;p&gt;My preferred base extensions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DotENV&lt;/li&gt;
&lt;li&gt;ESLint&lt;/li&gt;
&lt;li&gt;Docker&lt;/li&gt;
&lt;li&gt;markdownlint&lt;/li&gt;
&lt;li&gt;GitLens&lt;/li&gt;
&lt;li&gt;npm&lt;/li&gt;
&lt;li&gt;vscode-icons&lt;/li&gt;
&lt;li&gt;VS Live Share&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I add in additional extensions for other language supports.&lt;/p&gt;
&lt;h2&gt;Ad, Tracking, and other blocking with DNSMasq&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.thekelleys.org.uk/dnsmasq/doc.html&quot;&gt;DNSMasq&lt;/a&gt; is a bundle of network infrastructure services, including a DNS resolver. I use DNSMasq to block trackers, ad networks, and time wasting websites cold. Here&apos;s how setup works:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;brew install dnsmasq&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;/usr/local/etc/dnsmasq.conf&lt;/code&gt; so it includes the following line: &lt;code&gt;conf-dir=/usr/local/etc/dnsmasq.d/,*.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add a directory &lt;code&gt;/usr/local/etc/dnsmasq.d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Configure basic dnsmasq settings by adding a file to &lt;code&gt;/usr/local/etc/dnsmasq.d/resolvers.conf&lt;/code&gt; with the following contents:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;language-conf&quot;&gt;# Tell dnsmasq to get its DNS servers from this config file only
no-resolv
# Add alternate DNS servers
server=208.67.222.222
server=208.67.220.220
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Configure another dnsmasq.conf file &lt;code&gt;time-wasters.conf&lt;/code&gt; with the following format:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;language-conf&quot;&gt;address=/.facebook.com/facebook.com/ # This stops any domain under facebook.com
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo brew services start dnsmasq&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Firefox&lt;/h2&gt;
&lt;p&gt;I use &lt;a href=&quot;https://duck.com&quot;&gt;Duck.com&lt;/a&gt; for search&lt;/p&gt;
&lt;p&gt;Extensions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1Password extension&lt;/li&gt;
&lt;li&gt;HTTPS Everywhere&lt;/li&gt;
&lt;li&gt;Privacy Badger&lt;/li&gt;
&lt;li&gt;Terms of Service; Didn&apos;t Read&lt;/li&gt;
&lt;li&gt;uBlock Origin&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other details&lt;/h2&gt;
&lt;p&gt;I will update this with further details, but for now this is the base setup I prefer to use on my system.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Tim Cook on Privacy]]></title><description><![CDATA[I recently read Tim Cook's inspiring remarks on privacy. If you haven't read it yet, I encourage you to  check it out . As I have reflected…]]></description><link>https://www.brentjanderson.com/blog/2018-10-24-tim-cook-privacy/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2018-10-24-tim-cook-privacy/</guid><pubDate>Wed, 24 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently read Tim Cook&apos;s inspiring remarks on privacy. If you haven&apos;t read it yet, I encourage you to &lt;a href=&quot;https://www.privacyconference2018.org/system/files/2018-10/Tim%20Cook%20speech%20-%20ICDPPC2018.pdf&quot;&gt;check it out&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As I have reflected on his message, one thing stood out: Technology must be infused with our humanity. That requires human commitment to that ideal. Technology can&apos;t put humanity into itself: That is our unique human responsibility.&lt;/p&gt;
&lt;p&gt;We could say Technology is indifferent. The truth is, it&apos;s not anything. It doesn&apos;t care. When we say that an algorithm is biased, the truth is that the way it was implemented was biased. The brick of aluminum and glass in your hand It doesn&apos;t care if it&apos;s been recharged recently, or what you share on the internet. To the machines involved, the pictures and words we share on the internet (including this blog post) look the same as an Amazon order or an advertisement. There is no inherent meaning to them from the machine&apos;s point of view.&lt;/p&gt;
&lt;p&gt;In its darkest forms, the systematic aggregation of data is quietly shaping our lives. From the ads we see to the decisions we make, we are subtly controlled by powerful algorithms that are seeking to shape our behavior. Most of the time, this influence is intended to be innocuous. &quot;Advertising helps the economy.&quot; &quot;We want the world to be more open and connected.&quot; Surely there is some value to these claims, but the aggregation of the data and the behavior is creating a complex soup of interactions that none of us can fully comprehend. It is impossible to tease apart.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If green is your favorite color, you may find yourself reading a lot of articles — or watching a lot of videos — about the insidious threat from people who like orange.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;In the news almost every day, we bear witness to the harmful, even deadly, effects of these narrowed worldviews.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tim&apos;s ultimate question has lingered on my mind:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What kind of world do we want to live in?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I want to live in a world where privacy is a given human right. Where we can wield powerful tools and algorithms responsibly to genuinely improve humanity. Where we are humble enough to accept that humanity is flawed, and that our algorithms will be flawed. Where we are optimistic enough to embrace that humanity can become better, and that our work will improve.&lt;/p&gt;
&lt;p&gt;Tim&apos;s call for a comprehensive federal privacy law (likely comparable to the &lt;a href=&quot;https://en.wikipedia.org/wiki/General_Data_Protection_Regulation&quot;&gt;GDPR&lt;/a&gt; in the European Union) is encouraging to me. Although I generally disapprove of regulation, when the market forces of the world drive us away from the kind of world we want to live in, corrective action must be considered. Apple standing for privacy and attempting to educate their broad customer base on the importance of privacy is another approach that, while fruitful, is not going to establish sweeping societal commitments to privacy - especially from competitor&apos;s who blatantly disregard privacy. For reference, Tim calls for a law with the following rights enshrined:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The right to have personal data minimized&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&quot;Companies should challenge themselves to de-identify customer data — or not to collect it in the first place.&quot;&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;The right to knowledge&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&quot;Users should always know what data is being collected and what it is being collected for. This is the only way to empower users to decide what collection is legitimate and what isn&apos;t. Anything less is a sham.&quot;&lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;The right to access&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&quot;Companies should recognize that data belongs to users, and we should all make it easy for users to get a copy of, correct and delete their personal data.&quot;&lt;/p&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;The right to security&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&quot;Security is foundational to trust and all other privacy rights.&quot;&lt;/p&gt;
&lt;p&gt;I believe that tools to protect and minimize personally identifying information should be baked into the most critical pieces of infrastructure at companies around the world. One approach that is promising is encrypting personally identifying information (PII) in motion and at rest, and decrypting it on-demand. The encryption key would be different for each user (or multiple keys per user for greater granularity). When invoking &quot;right to erasure&quot;, the system would throw away the encryption key and notify dependent services of the erasure. Dependent services would update caches, database views, etc. to remove any traces of the encrypted data, where possible. In this way, data can be securely managed and protected while also being accessible to the application.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Technology&apos;s potential is, and always must be, rooted in the faith people have in it, in the optimism and creativity that it stirs in the hearts of individuals, in its promise and capacity to make the world a better place. We will never achieve technology&apos;s true potential without the full faith and confidence of the people who use it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&quot;Privacy means people know what they&apos;re signing up for, in plain language, and repeatedly.&quot; ~ Steve Jobs&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Thank you, Tim (and Steve), for taking this kind of a stand for privacy and human rights.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The problem with Firebase]]></title><description><![CDATA[We use  Firebase  at  Yours.co  for our entire backend. Our app depends upon cloud functions, datastore, push notifications and more…]]></description><link>https://www.brentjanderson.com/blog/2018-10-15-firebase-problem/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2018-10-15-firebase-problem/</guid><pubDate>Mon, 15 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 1100px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAZ7MnY0cCb//xAAaEAEAAgMBAAAAAAAAAAAAAAABAAIDERMi/9oACAEBAAEFAjIQ9CaZW9qzqs//xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhQf/aAAgBAwEBPwFRpR//xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIhQf/aAAgBAgEBPwFuWFn/xAAXEAEBAQEAAAAAAAAAAAAAAAAAIQEQ/9oACAEBAAY/Ak7NV//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/Ic/jDuHGdxiR1iVbhb//2gAMAwEAAgADAAAAENwP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAhEf/aAAgBAwEBPxAlxL3l/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEhEf/aAAgBAgEBPxDFQpp//8QAHBAAAgICAwAAAAAAAAAAAAAAAREAITFBUWGR/9oACAEBAAE/EF5LtiqhRaQKjwmIdRg70a8ik8vE/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;fire.jpg&quot;
        title=&quot;Photo by https://unsplash.com/photos/HCCJgI4YwbQ&quot;
        src=&quot;/static/2047286e866179e69fc2e847d584d29f/1ef49/fire.jpg&quot;
        srcset=&quot;/static/2047286e866179e69fc2e847d584d29f/338d2/fire.jpg 275w,
/static/2047286e866179e69fc2e847d584d29f/48316/fire.jpg 550w,
/static/2047286e866179e69fc2e847d584d29f/1ef49/fire.jpg 1100w,
/static/2047286e866179e69fc2e847d584d29f/b1122/fire.jpg 1650w,
/static/2047286e866179e69fc2e847d584d29f/7db3f/fire.jpg 2200w,
/static/2047286e866179e69fc2e847d584d29f/1ac66/fire.jpg 3000w&quot;
        sizes=&quot;(max-width: 1100px) 100vw, 1100px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Photo by https://unsplash.com/photos/HCCJgI4YwbQ&lt;/figcaption&gt;
  &lt;/figure&gt;
      &lt;/p&gt;
&lt;p&gt;We use &lt;a href=&quot;https://www.firebase.com&quot;&gt;Firebase&lt;/a&gt; at &lt;a href=&quot;https://yours.co&quot;&gt;Yours.co&lt;/a&gt; for our entire backend. Our app depends upon cloud functions, datastore, push notifications and more.&lt;/p&gt;
&lt;p&gt;Firebase is well-suited to certain types of real-time applications. But, sometimes people ask me &quot;Should I use Firebase?&quot; Here are my open thoughts on Firebase&apos;s products and how they fit into a product&apos;s strategy.&lt;/p&gt;
&lt;h2&gt;A few caveats&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://yours.co&quot;&gt;Our use case&lt;/a&gt; is not your use case. Firebase can be well-suited to other applications.&lt;/li&gt;
&lt;li&gt;We don&apos;t use Firebase Cloud Firestore. It might be a lot better than their original Cloud Datastore product.&lt;/li&gt;
&lt;li&gt;Firebase is always getting better. Check &lt;a href=&quot;https://www.firebase.com&quot;&gt;Firebase&lt;/a&gt; to decide if it&apos;s a good fit for your needs.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Firebase: The Good Parts&lt;/h2&gt;
&lt;p&gt;Firebase is excellent for getting a product prototype or MVP off the ground. They take care of running your back end, and provide &lt;a href=&quot;https://firebase.google.com/products/&quot;&gt;a suite of good services&lt;/a&gt; for advanced features. They offer real-time syncing with your app, push notifications, and more. If you invest in the Firebase ecosystem, you can get up and running fast with very little overhead. You don&apos;t have to worry about managing servers and infrastructure. You also get Google&apos;s security and infrastructure teams supporting your product.&lt;/p&gt;
&lt;p&gt;Firebase also has a huge user community to bounce ideas off of and get guidance on best practices. Having an ecosystem around your technology decisions may help you move faster. Others may have already had the same problem and shared their solution to it with the world.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This might be good enough for many products, and these are great tools to use when you need them.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Firebase: The problem&lt;/h2&gt;
&lt;p&gt;Unfortunately, many applications suffer from significant real-world constraints:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Firebase&apos;s most advanced features introduce tight coupling between your app and database&lt;/li&gt;
&lt;li&gt;Firebase can make it hard to evolve your product.&lt;/li&gt;
&lt;li&gt;Firebase makes it hard to be backwards compatible&lt;/li&gt;
&lt;li&gt;Datastore makes updating complex data structures harder than alternatives like relational databases&lt;/li&gt;
&lt;li&gt;Firebase introduces significant lock-in with each component. This is a double-edged sword.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are the top points I would urge potential Firebase customers to consider.&lt;/p&gt;
&lt;p&gt;No technology is perfect. &lt;em&gt;Firebase might be the best solution to your specific situation&lt;/em&gt;. Weigh your project&apos;s constraints against technology options. What can your team get done? What do you think you need to get done in the future?&lt;/p&gt;
&lt;h2&gt;Tight Coupling&lt;/h2&gt;
&lt;p&gt;Tight coupling is the biggest issue. It is the root of most of the problems listed above. Tight coupling means that a change to one part of an application triggers changes in other parts. A good example of this in the physical world would be a car with wheels welded to the axle. You couldn&apos;t change a tire without replacing the axles.&lt;/p&gt;
&lt;p&gt;Early technical decisions have huge impacts in the long-term path of the product. It&apos;s important to &lt;strong&gt;keep your options open&lt;/strong&gt; and recognize that &lt;strong&gt;things will change&lt;/strong&gt; over time. Startups suffer from this problem more than established products. &lt;strong&gt;The need for future agility is proportional to future product uncertainty.&lt;/strong&gt; To &lt;a href=&quot;https://blog.ycombinator.com/tips-ship-early-and-often/&quot;&gt;ship early and ship often&lt;/a&gt;, you must think about enabling future growth.&lt;/p&gt;
&lt;p&gt;Firebase encourages tight coupling. It encourages meshing your app&apos;s user interface with the database. Thus, you must consider user interface or schema changes together. Is it okay to update the user interface and backend at the same time? What if you maintain older versions? Tight coupling makes for poor backwards compatibility.&lt;/p&gt;
&lt;p&gt;Mobile apps tend to need backwards compatibility. If you expose an API for customers to consume, you definitely need to be backwards compatible. The apps at &lt;a href=&quot;https://yours.co&quot;&gt;Yours.co&lt;/a&gt; check their version with the latest supported version in Firebase. If you are no longer supported, the app locks up until the user updates to the latest version. For some use-cases this may be sub-optimal.&lt;/p&gt;
&lt;p&gt;Unless backwards compatibility does not matter, keep your app loosely coupled. Firebase makes this particular constraint very hard, if not impossible, to handle.&lt;/p&gt;
&lt;p&gt;This does not matter as much if you only ship a web application that is evergreen with your backend.&lt;/p&gt;
&lt;h2&gt;Updating complex data structures&lt;/h2&gt;
&lt;p&gt;Firebase datastore is a document database with a single document in it.&lt;a name=&quot;sup1&quot; href=&quot;#footnote1&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; Document databases are great at handling unstructured data at massive scale for analytics. If you don&apos;t know the shape of your data in advance, document databases can be a terrific solution.&lt;/p&gt;
&lt;p&gt;Most applications rely on known data with known fields. We know that users will sign up with an email address. Users have connections with other users. Tweets are 280 characters long. When using a schemaless database like Firebase, your app must handle your schema. You are responsible for managing data integrity, not your database. This generally means that document databases are a weaker fit for many applications.&lt;/p&gt;
&lt;p&gt;Document databases fail to model relationships between entities. Relational databases have decades of optimizations for joining and filtering data and relationships. With a document database, it is up to the engineer to build poor replacements for joins and filters in your app. Let&apos;s suppose we used a document database to model Twitter or Mastodon. A user produces tweets, and users can see a stream of tweets from their followers.&lt;/p&gt;
&lt;p&gt;A relational database would have a table of tweets, a table of users, and a table of who follows whom. We model the relationships between entities with foreign keys. Although this has drawbacks at massive scale, for most apps it&apos;s a great start.&lt;/p&gt;
&lt;p&gt;A document database like Firebase could have a subkey for users and a subkey for tweets. This would give you all the tweets for all users. But, you would need to query every user to pull up usernames and profile pictures to go with each tweet. You could stuff user tweets inside each user, but you would need to query every user to make a global timeline. The compromise is to then copy every tweet into both places. But now you have two problems when you go to edit/update content.&lt;/p&gt;
&lt;p&gt;At Yours.co, keep collections of data separate and link them with references. We have a &lt;code&gt;users&lt;/code&gt; collection that describes information about each user generally. We sprinkle little bits of user data throughout the application. This makes reading easier for the app at the expense of complex writes. &lt;a href=&quot;https://en.wikipedia.org/wiki/Relational_database&quot;&gt;Relational databases&lt;/a&gt; like Postgres or MariaDB are excellent at these common workloads. By contrast, document databases leave this work up to you and your application. This is more work for you, slower, and more error prone.&lt;/p&gt;
&lt;p&gt;This also makes it harder to keep data in sync. If I copy data like an email address in a few places, when the user updates their email I have to remember what to update. This does not scale well, especially as a team evolves and develops a product. Data governance problems become more complex under a document-oriented model.&lt;/p&gt;
&lt;h2&gt;Real-time is overpromised&lt;/h2&gt;
&lt;p&gt;Firebase&apos;s killer feature is realtime data. It feels like magic to edit something on the client side and see it update in real time in a different part of the app. Firebase makes this possible, for free, out of the box. But, if you face any of the above constraints, you may not get the real-time features you expect. Firebase&apos;s real-time features only work if you mesh your UI with the data model. If you want to use an API in front of Firebase, you have to re-implement your own realtime features in some other way. Firebase&apos;s realtime features are also data-oriented rather than application-level events. Instead of reacting to &quot;A user registered&quot; you would see &quot;Inserted an object in /users&quot;.&lt;/p&gt;
&lt;h2&gt;Lock-in&lt;/h2&gt;
&lt;p&gt;Firebase offers a suite of tools from database to A/B testing and more. The entire suite is impressive, and we use several components at Yours.co to make our app work. Despite the above complaints, &lt;strong&gt;Firebase may be a good fit for some projects&lt;/strong&gt;. That said, Firebase is a business built around getting you linked to a community of products. If you buy into authentication, you will want to use firestore or datastore. When you need to store uploaded user files, Firebase Storage is a convenient option. A/B testing, crash reporting, push notifications, and more are also a few clicks away.&lt;/p&gt;
&lt;p&gt;This convenience is not a bad thing. This is why Firebase can be a great tool for the right product. Before you commit to part of firebase, are you okay with the rest of the products in the Firebase ecosystem? Is the lock-in worth not writing it yourself? Weighing such trade offs is the essence of good software engineering and architecture.&lt;/p&gt;
&lt;h2&gt;When to use Firebase&lt;/h2&gt;
&lt;p&gt;I would recommend Firebase to new, greenfield projects that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Know what they need to achieve a good MVP out of the gate&lt;/li&gt;
&lt;li&gt;Don&apos;t want to fiddle with infrastructure concerns&lt;/li&gt;
&lt;li&gt;Are web-based only/Don&apos;t need backwards compatibility&lt;/li&gt;
&lt;li&gt;Have a small-ish team&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What I recommend instead of Firebase&lt;/h2&gt;
&lt;p&gt;I recommend the technology a team is most comfortable with. I recommend the following for the good parts of Firebase without using Firebase.&lt;/p&gt;
&lt;h3&gt;Elixir + Phoenix&lt;/h3&gt;
&lt;p&gt;Elixir and Phoenix offer an incredible &lt;a href=&quot;https://phoenixframework.org/blog/the-road-to-2-million-websocket-connections&quot;&gt;concurrency and scaling&lt;/a&gt; story. It enables real-time websockets in a way that is scalable and performant. It provides a rock-solid foundation for building your own apps. You can also &lt;a href=&quot;https://hexdocs.pm/phoenix/heroku.html#content&quot;&gt;run it on Heroku&lt;/a&gt; if you don&apos;t want to run your own infrastructure.&lt;/p&gt;
&lt;h3&gt;Postgres&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.postgresql.org/&quot;&gt;Postgres&lt;/a&gt; is a rock solid relational database that is fast, efficient, and supports many modern features. It can store JSON if you want the flexibility of a document database. It does geographic calculations if that&apos;s your need. It supports everything from relational databases. It can even do &lt;a href=&quot;https://blog.lelonek.me/listen-and-notify-postgresql-commands-in-elixir-187c49597851&quot;&gt;realtime events&lt;/a&gt; similar to Firebase.&lt;/p&gt;
&lt;h3&gt;GraphQL&lt;/h3&gt;
&lt;p&gt;GraphQL APIs are an alternative to REST APIs. They are strongly typed, self-documenting, and let you query exactly what you need. I am a fan of &lt;a href=&quot;https://absinthe-graphql.org/&quot;&gt;Absinthe GraphQL&lt;/a&gt; for the backend and &lt;a href=&quot;https://www.apollographql.com/&quot;&gt;Apollo&lt;/a&gt; on the frontend.&lt;a name=&quot;sup2&quot; href=&quot;#footnote2&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; It also supports realtime out of the box using Subscriptions.&lt;/p&gt;
&lt;p&gt;GraphQL decouples the backend from the frontend. It can version and deprecate fields for backwards compatibility concerns. It enables tying in the best backend for the job.&lt;/p&gt;
&lt;h3&gt;Summary&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Firebase is great for some use-cases&lt;/li&gt;
&lt;li&gt;Try to go into it with eyes wide open&lt;/li&gt;
&lt;li&gt;If your data is not a good fit for a document database, be careful!&lt;/li&gt;
&lt;li&gt;Consider alternatives that will grow with you for longer&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Footnotes&lt;/h2&gt;
&lt;p&gt;&lt;a name=&quot;footnote1&quot; href=&quot;#sup1&quot;&gt;1&lt;/a&gt;: I have not used Firebase Firestore yet (it&apos;s still in beta), but it doesn&apos;t seem to include relational indices either.
&lt;a name=&quot;footnote2&quot; href=&quot;#sup2&quot;&gt;2&lt;/a&gt;: I have tried Apollo Server. If you want cutting-edge features or are all-in on Node, it&apos;s a good option. I find Absinthe is elegant and declarative. Elixir and Phoenix handle realtime subscriptions well too.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Event Sourcing for Beginners]]></title><description><![CDATA[Note: This article is still a draft, hence the blank sections at the bottom. Thanks for stopping by either way! I am fascinated by pushing…]]></description><link>https://www.brentjanderson.com/blog/2018-10-08-event-sourcing/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2018-10-08-event-sourcing/</guid><pubDate>Fri, 12 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 1100px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.82480515079634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAEGidbkUqP/xAAaEAACAgMAAAAAAAAAAAAAAAAAAQISERMx/9oACAEBAAEFAuFSmRQTWscD/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhABAQEAAAAAAAAAAAAAAAAAEDEA/9oACAEBAAY/Ait3/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERITFBUXGB/9oACAEBAAE/IVDLRTzhZJ2pOhImxIsO+hk5n//aAAwDAQACAAMAAAAQnD//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCn/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qh//EABsQAQADAQEBAQAAAAAAAAAAAAEAESExcVGh/9oACAEBAAE/EKgNjSsp+wIUQtbor3s4b7WUr8i9s7pl7NmkPdMsc/An/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;cockpit.jpg&quot;
        title=&quot;Image by https://unsplash.com/@dlohmar&quot;
        src=&quot;/static/5f7d82f806c734be8c0510f05d2f7e45/1ef49/cockpit.jpg&quot;
        srcset=&quot;/static/5f7d82f806c734be8c0510f05d2f7e45/338d2/cockpit.jpg 275w,
/static/5f7d82f806c734be8c0510f05d2f7e45/48316/cockpit.jpg 550w,
/static/5f7d82f806c734be8c0510f05d2f7e45/1ef49/cockpit.jpg 1100w,
/static/5f7d82f806c734be8c0510f05d2f7e45/b1122/cockpit.jpg 1650w,
/static/5f7d82f806c734be8c0510f05d2f7e45/7db3f/cockpit.jpg 2200w,
/static/5f7d82f806c734be8c0510f05d2f7e45/5ebf8/cockpit.jpg 3300w,
/static/5f7d82f806c734be8c0510f05d2f7e45/9ba42/cockpit.jpg 5902w&quot;
        sizes=&quot;(max-width: 1100px) 100vw, 1100px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Image by https://unsplash.com/@dlohmar&lt;/figcaption&gt;
  &lt;/figure&gt;
      &lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: This article is still a draft, hence the blank sections at the bottom. Thanks for stopping by either way!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I am fascinated by pushing the boundaries of software. A few years ago, I read &lt;a href=&quot;https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying&quot;&gt;this marvelous piece about Logs&lt;/a&gt; - not messages for debugging, but using a log as a data structure. Ever since, the power of logs and capturing events has fascinated me.&lt;/p&gt;
&lt;p&gt;Not long after that piece about real-time data and logs, I started to watch and read up on &lt;a href=&quot;https://martinfowler.com/eaaDev/EventSourcing.html&quot;&gt;Event Sourcing&lt;/a&gt;. I am not the first to write about event sourcing, CQRS, or other related topics. Rather, this article aims to be the kind of content I wished I had when I first started down this rabbit hole.&lt;/p&gt;
&lt;h2&gt;CRUD&lt;/h2&gt;
&lt;h2&gt;Where CRUD falls short&lt;/h2&gt;
&lt;h2&gt;State management is hard&lt;/h2&gt;
&lt;p&gt;Before we define Event Sourcing, let&apos;s take a step back and talk about some related concepts.&lt;/p&gt;
&lt;p&gt;Software exists to help people get things done. Most software requires that we track state on behalf of the user. We store photos, we remember what things they liked or retweeted, we record if a blog post has been published yet or not, and so on.&lt;/p&gt;
&lt;p&gt;Most commonly, we use a database to track state. We create tables, relationships, and add data over time. Choosing a database is fraught with a lot of complex decisions (although I personally recommend Postgres for most projects). Most frequently, we reach for whatever we feel most comfortable using.&lt;/p&gt;
&lt;p&gt;Unfortunately, state management is hard. This is true no matter what you use to store your data.&lt;/p&gt;
&lt;h3&gt;Data integrity &amp;#x26; backups&lt;/h3&gt;
&lt;p&gt;How do you plan on keeping your data safe, available, and recoverable in the face of failure?&lt;/p&gt;
&lt;h3&gt;The way you store the data is different than the way you use the data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Migrating state, especially in a running system&lt;/li&gt;
&lt;li&gt;State you didn&apos;t think you needed to keep around&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Unfortunately, the way you view your data depends on the context you find it in. When stored in a relational database, your data will be in the form of rows and columns on a disk. When it&apos;s on the user&apos;s screen, your data is turned into pixels. Somewhere in between those two extremes, data is in the form of JSON, objects, and many other forms. Because the database is the ultimate source of state in your application, the shape of your data in your database will shape the rest of your application. This is not always ideal. What happens when you want to present your data in a way that is different from the way you store that data? Or when you need to integrate data from multiple places at once? These state management issues are hard.&lt;/p&gt;
&lt;p&gt;Another challenge in state management &lt;/p&gt;
&lt;h2&gt;What is event sourcing?&lt;/h2&gt;
&lt;h2&gt;Why is it useful?&lt;/h2&gt;
&lt;h2&gt;When should it be applied?&lt;/h2&gt;
&lt;h2&gt;Where should it be avoided?&lt;/h2&gt;
&lt;h2&gt;What other pitfalls are there?&lt;/h2&gt;
&lt;h2&gt;How to get started with event sourcing&lt;/h2&gt;</content:encoded></item><item><title><![CDATA[When you write a script that you didn't need]]></title><description><![CDATA[In my efforts to not burdened Bob with too many questions, I think I made a mistake today. Which is to say yesterday. In working on getting…]]></description><link>https://www.brentjanderson.com/blog/2019-02-13-journal-entry/</link><guid isPermaLink="false">https://www.brentjanderson.com/blog/2019-02-13-journal-entry/</guid><pubDate>Fri, 12 Oct 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In my efforts to not burdened Bob with too many questions, I think I made a mistake today.&lt;/p&gt;
&lt;p&gt;Which is to say yesterday.&lt;/p&gt;
&lt;p&gt;In working on getting our &lt;code&gt;atlas-db&lt;/code&gt; package upgraded to Version 3.0, I discovered that we needed to make some adjustments to the way data is stored in our staging and production databases. That let me down a rabbit hole of experimentation that resulted in a 500 line long script.&lt;/p&gt;
&lt;p&gt;The script incorporated common table expressions and date of modifying common table expressions which I have never heard of or used before. It was a work art. And it was totally useless.&lt;/p&gt;
&lt;p&gt;I submitted it to Bob to review, and after chatting with him directly, we determined a few changes needed to happen. As I worked on those changes, it became increasingly evident that we have existing facilities to handle the work that I was trying to do. Namely, our data import engine can overwrite existing records just fine, and anytime we have conflicts, we can just delete the data from the database and let the importer bring the data back in. It really is a simple as that. Nothing extra fancy or complicated to merge duplicate records.&lt;/p&gt;
&lt;p&gt;I&apos;m glad we at least found a way to improve a check constraint that was causing issues, so that it can instead be a row-level security policy (those are easier to suspend for administrative activity, if necessary). Otherwise, the last two days have been close to a wash.&lt;/p&gt;
&lt;p&gt;Lesson learned: It&apos;s a good idea to sanity check before asking.&lt;/p&gt;</content:encoded></item></channel></rss>